-------------------------------------------------------------------------------
Test set: ru.job4j.forum.control.IndexControlTest
-------------------------------------------------------------------------------
Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 2.472 s <<< FAILURE! - in ru.job4j.forum.control.IndexControlTest
shouldReturnDefaultMessage  Time elapsed: 0.001 s  <<< ERROR!
java.lang.IllegalStateException: Failed to load ApplicationContext
Caused by: org.springframework.beans.factory.BeanCreationException: 
Error creating bean with name 'liquibase' defined in ru.job4j.forum.Main: Invocation of init method failed; nested exception is liquibase.exception.MigrationFailedException: Migration failed for change set db/schema.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: Невозможно удалить "AUTHORITIES", пока существует зависимый объект "FKRIXIKJHJFEL192YJ7W7XAPDS7"
Cannot drop "AUTHORITIES" because "FKRIXIKJHJFEL192YJ7W7XAPDS7" depends on it; SQL statement:
drop table if exists posts; [90107-200] [Failed SQL: drop table if exists posts;
drop table if exists authorities;
drop table if exists users;


create table posts (
    id serial primary key,
    name varchar(2000),
    description text,
    created timestamp without time zone not null default now()
);

CREATE TABLE authorities (
id serial primary key,
authority VARCHAR(50) NOT NULL unique
);

CREATE TABLE users (
id serial primary key,
username VARCHAR(50) NOT NULL unique,
password VARCHAR(100) NOT NULL,
enabled boolean default true,
authority_id int not null references authorities(id)
);]
Caused by: liquibase.exception.MigrationFailedException: 
Migration failed for change set db/schema.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: Невозможно удалить "AUTHORITIES", пока существует зависимый объект "FKRIXIKJHJFEL192YJ7W7XAPDS7"
Cannot drop "AUTHORITIES" because "FKRIXIKJHJFEL192YJ7W7XAPDS7" depends on it; SQL statement:
drop table if exists posts; [90107-200] [Failed SQL: drop table if exists posts;
drop table if exists authorities;
drop table if exists users;


create table posts (
    id serial primary key,
    name varchar(2000),
    description text,
    created timestamp without time zone not null default now()
);

CREATE TABLE authorities (
id serial primary key,
authority VARCHAR(50) NOT NULL unique
);

CREATE TABLE users (
id serial primary key,
username VARCHAR(50) NOT NULL unique,
password VARCHAR(100) NOT NULL,
enabled boolean default true,
authority_id int not null references authorities(id)
);]
Caused by: liquibase.exception.DatabaseException: 
Невозможно удалить "AUTHORITIES", пока существует зависимый объект "FKRIXIKJHJFEL192YJ7W7XAPDS7"
Cannot drop "AUTHORITIES" because "FKRIXIKJHJFEL192YJ7W7XAPDS7" depends on it; SQL statement:
drop table if exists posts; [90107-200] [Failed SQL: drop table if exists posts;
drop table if exists authorities;
drop table if exists users;


create table posts (
    id serial primary key,
    name varchar(2000),
    description text,
    created timestamp without time zone not null default now()
);

CREATE TABLE authorities (
id serial primary key,
authority VARCHAR(50) NOT NULL unique
);

CREATE TABLE users (
id serial primary key,
username VARCHAR(50) NOT NULL unique,
password VARCHAR(100) NOT NULL,
enabled boolean default true,
authority_id int not null references authorities(id)
);]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: 
Невозможно удалить "AUTHORITIES", пока существует зависимый объект "FKRIXIKJHJFEL192YJ7W7XAPDS7"
Cannot drop "AUTHORITIES" because "FKRIXIKJHJFEL192YJ7W7XAPDS7" depends on it; SQL statement:
drop table if exists posts; [90107-200]

